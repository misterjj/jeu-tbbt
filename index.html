<html>
	<meta charset="UTF-8" />
	<title>Pierre, papier, ciseaux, lézard, Spock !</title>
	<meta name="Description" content="Pierre, papier, ciseaux, lézard, Spock !"> 
	<link rel="icon" type="image/png" href="images/logo-mini.png" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
	<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="cyborg.css">
	<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
	<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet"> 
	<link href="../css/animate.css" rel="stylesheet" type="text/css"> 
	<link href='http://fonts.googleapis.com/css?family=Holtwood+One+SC' rel='stylesheet' type='text/css'>
	<script src="/js/alertify.js" type="text/javascript"></script>
	<style type="text/css">
		body{
			overflow: hidden;
		}
		.w100{
			width : 100%;
		}
		.h100{
			height : 100%;
		}
		#etape1{
		    position: absolute;
		    left: 50%;
		    top: 50%;	
		    -webkit-transform: translateY(-50%) translateX(-50%);
			    -ms-transform: translateY(-50%) translateX(-50%);
			        transform: translateY(-50%) translateX(-50%);
		}
		.allCarte{
			position: absolute;
			bottom: 50px;
			width: 100%;
			text-align: center;
		}
		.carte{
			display: inline-block;
			border : 3px solid #00bc8c;
			color : #00bc8c;
			background: white;
			border-radius: 5px;
			padding: 15px;
			cursor: pointer;
			-webkit-transition: all .5s;
			        transition: all .5s;

			opacity: 0;
		}
		.carte:hover{
		    -webkit-transform: translateY(-75px) ;
			    -ms-transform: translateY(-75px) ;
			        transform: translateY(-75px) ;		
		}
		.carte i{
			display: block;
			font-size: 100px; 
			margin: 20px; 
		}
		.carte span{
			font-size: 32px;
			font-weight: bold;
			text-transform: uppercase;
		}
		#etape2 p.h2{
			opacity: 0;
		}
		#etape2 .encartPlay{
			height : 30vh;
			width : 30vh;
			background : #3c3c3c;
			border-radius : 10px;
			text-align : center;
		}
		#encartPlayer,#encartBot{
			border-radius : 10px;
		}
		.display-table{
			display : table;
		}
		.display-cell{
			display : table-cell;
			vertical-align : middle;
		}
		.display-table-center{
			margin-left : auto;
			margin-right : auto;
		}
		#game{
			margin-top : 30px;
			font-size : 150px;
			opacity : 0;
		}
		#game .score{
			font-size : 100px;
		}
		#game p{
			font-size : 50px;
			padding : 0 10px;
		}
	</style>
	<script type="text/javascript">
		var canPlay = false;
		var scorePlayer = 0;
		var scoreBot = 0;
		var winnable = {
			"hand-rock-o" : ["hand-scissors-o","hand-lizard-o"],
			"hand-paper-o" : ["hand-spock-o","hand-rock-o"],
			"hand-scissors-o" : ["hand-lizard-o","hand-paper-o"],
			"hand-lizard-o" : ["hand-spock-o","hand-paper-o"],
			"hand-spock-o" : ["hand-scissors-o","hand-rock-o"]
		}
		$(function(){
			$("#etape2 *").hide();
			$("#goEtape2").click(function(){
				$("#etape1").addClass("animated zoomOutRight");
				$("#etape2 *").attr("style","");
				setTimeout(function(){
					$("#etape2 p.h2").addClass("animated fadeInUp");
					displayCarte(0);
					displayCarte(1);
					displayCarte(2);
					displayCarte(3);
					displayCarte(4);
					$("#game").addClass("animated fadeInUp");
					canPlay = true;
				},1000)
			})
			
			$(".carte").click(function(){
				if(canPlay){
					canPlay = false;
					chosePlayer = $(this).attr("id");
					$("#encartPlayer").html('<i class="fa fa-'+chosePlayer+'"></i>')
					keys = Object.keys(winnable);
					choseBot = keys[Math.floor((Math.random() * 4))];
					$("#encartBot").html('<i class="fa fa-'+choseBot+'"></i>');
					switch(whoWin(chosePlayer,choseBot)){
						case "player" : 
							$("#encartPlayer").css("background-color","#6DD480");
							$("#encartBot").css("background-color","#F26C5E");
							scorePlayer ++;
							$("#scorePlayer").text(scorePlayer)
							break;
						case "bot" : 
							$("#encartPlayer").css("background-color","#F26C5E")
							$("#encartBot").css("background-color","#6DD480")
							scoreBot++;
							$("#scoreBot").text(scoreBot)
							break;
						case "nul": 
							$("#encartPlayer").css("background-color","#F2B95E")
							$("#encartBot").css("background-color","#F2B95E")
							break;
					};
					canPlay = true;
				}
			});
		});
		
		function whoWin(chosePlayer,choseBot){
			if(chosePlayer==choseBot) 
				return "nul";
			for(i in winnable[chosePlayer]){
				if(choseBot==winnable[chosePlayer][i])
					return "player";
			}
			for(i in winnable[choseBot]){
				if(chosePlayer==winnable[choseBot][i])
					return "bot";
			}
		}

		function displayCarte(x){
			setTimeout(function(){
				$(".carte:eq("+x+")").addClass("animated fadeInDown");
			},x*100)
		}

	</script> 
	<body>
		<div id="etape1">
			<h1 style="display:block" class="text-center">Pierre, papier, ciseaux, lézard, Spock !</h1>
			<br><br>
			<p class="text-center">
				<span class="btn btn-lg btn-success" id="goEtape2">Commencer à jouer</span>
				<span class="btn btn-lg btn-info" data-toggle="modal" data-target="#myModal">Voir les règles</span>
			</p>
		</div>
		<div id="etape2">
			<div id="game" class="display-table display-table-center">
				<div class="display-cell">
					<div class="score"  id="scorePlayer">
						0
					</div>
				</div>
				<div class="display-cell">
					&nbsp;
				</div>
				<div class="display-cell">
					<div class="encartPlay">
						<div class="display-table w100 h100">
							<div id="encartPlayer" class="display-cell w100 h100 text-center;">
							</div>
						</div>
					</div>
				</div>
				<div class="display-cell">
					<p>VS</p>
				</div>
				<div class="display-cell">
					<div class="encartPlay">
						<div class="display-table w100 h100">
							<div id="encartBot" class="display-cell w100 h100 text-center;">
							</div>
						</div>
					</div>
				</div>
				<div class="display-cell">
					&nbsp;
				</div>
				<div class="display-cell">
					<div class="score" id="scoreBot">
						0
					</div>
				</div>
			</div>
			
			<div class="allCarte">
				<div id="hand-rock-o" class="carte">
					<i class="fa fa-hand-rock-o "></i>
					<span>pierre</span>
				</div>
				<div id="hand-paper-o" class="carte">
					<i class="fa fa-hand-paper-o "></i>
					<span>papier</span>
				</div>
				<div id="hand-scissors-o"  class="carte">
					<i class="fa fa-hand-scissors-o "></i>
					<span>ciseaux</span>
				</div>
				<div id="hand-lizard-o"  class="carte">
					<i class="fa fa-hand-lizard-o "></i>
					<span>lézard</span>
				</div>
				<div id="hand-spock-o"  class="carte">
					<i class="fa fa-hand-spock-o "></i>
					<span>spock</span>
				</div>
				<p class="h2">
					Fais ton choix !
				</p>
			</div>
		</div>
	
		<div id="myModal" class="modal fade" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h4 class="modal-title">Laissons Sheldon Cooper nous les épliquer</h4>
					</div>
					<div class="modal-body">
						<iframe id="vid" width="100%" height="400" src="https://www.youtube.com/embed/llq528pnv9c?rel=0&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>
					</div>
					<div class="modal-footer"> 
						<!--button type="button" class="btn btn-danger"  >Tu peux répéter</button-->
						<button type="button" class="btn btn-success" data-dismiss="modal">C'est bon j'ai compris</button>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>